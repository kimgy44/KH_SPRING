package com.spring4.mvc;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

import org.apache.log4j.Logger;
import org.springframework.web.servlet.mvc.multiaction.MultiActionController;


public class AuthController extends MultiActionController {
	Logger logger = Logger.getLogger(AuthController.class);
	// setter 객체주입법(﻿→자바코드에서 처리)과 생성자 객체주입법(﻿→xml에서 처리)이 있다.
	private AuthLogic authLogic = null;
	public void setAuthLogic(AuthLogic authLogic) {
		this.authLogic = authLogic;
	}
	public String login(HttpServletRequest req, HttpServletResponse res) {
		System.out.println("dev_spring login 호출 성공");
		logger.info("dev_spring4 login 호출 성공");
		String path = "redirect:index.jsp";
		MembeVO memVO = null;
		memVO = authLogic.login();
		HttpSession session = req.getSession();
		session.setAttribute("memVO", memVO);
		return path;
		}
}
